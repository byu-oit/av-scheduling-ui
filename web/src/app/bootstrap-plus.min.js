/**
 * angular-bootstrap-plus
 * @version v0.0.1 - 2015-08-11
 * @link https://github.com/jrief/angular-bootstrap-plus
 * @author Jacob Rief (jacob.rief@gmail.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e){"use strict";!function(){angular.module("bs-plus.magnifier",[]).directive("bspMagnify",function(){return{restrict:"EA",scope:{imageSrc:"@"},template:'<img src="{{ imageSrc }}" class="{{ cssClass }}" /><div class="{{ cssClass }}"><span></span></div>',link:function(e,t,s){var n,o=t.find("div"),l=o.find("span");e.cssClass=s["class"],t.css({position:"relative","max-width":"100%",height:"auto",display:"inline-block"}).removeClass(e.cssClass),o.css({opacity:0,position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"hidden",cursor:"crosshair"}),l.css({width:"100%",height:"100%",display:"inline-block"}),o.on("mouseenter",function(){var s=t.find("img");o.css("opacity",1),l.css("background-image",'url("'+e.imageSrc+'")'),n={byX:(s[0].naturalWidth-s[0].clientWidth)/s[0].clientWidth,byY:(s[0].naturalHeight-s[0].clientHeight)/s[0].clientHeight}}),l.on("mousemove",function(e){var t=-e.offsetX*n.byX,s=-e.offsetY*n.byY;l.css("background-position",t+"px "+s+"px")}).on("mouseout",function(){o.css("opacity",0)})}}})}(),function(){var e=angular.module("bs-plus.processbar",[]);e.directive("bspProcessBar",["$compile","$templateCache",function(e,t){return{restrict:"E",scope:!0,require:"bspProcessBar",controller:["$scope",function(e){var t=this;e.selectStep=function(s){console.log(s),s.enabled&&(e.activeStep=s,t.hideStepElements())},e.stepButtonClass=function(t){var s=[];return s.push(t.enabled&&t.validated?"btn-primary":"btn-default"),e.activeStep===t&&s.push("active"),s},e.stepButtonDisabled=function(t){return e.activeStep!==t&&!t.enabled},this.hideStepElements=function(){var t,s;for(t=0;t<e.bspProcessSteps.length;t++)s=e.bspProcessSteps[t],s===e.activeStep?s.element.removeClass("ng-hide"):s.element.addClass("ng-hide")},this.enableStepElements=function(){var t,s,n=!0;for(t=0;t<e.bspProcessSteps.length;t++)s=e.bspProcessSteps[t],s.enabled=n,n=n&&s.validated}}],link:{pre:function(e){console.log(e),e.bspProcessSteps=[]},post:function(s,n,o,l){var i,r;for(e(t.get("bsp/process-bar.html"))(s,function(e){n.prepend(e)}),s.activeStep=s.bspProcessSteps[0],i=0;i<s.bspProcessSteps.length;i++)r=s.bspProcessSteps[i],r.validated&&(s.activeStep=r);l.enableStepElements(),l.hideStepElements()}}}}]),e.directive("bspProcessStep",["$q",function(e){return{restrict:"E",require:["^bspProcessBar","bspProcessStep"],scope:!0,controller:["$scope",function(e){var t=this;this.findProcessStep=function(t){for(var s=0;s<e.$parent.bspProcessSteps.length;s++)if(e.$parent.bspProcessSteps[s].$id==t)return e.$parent.bspProcessSteps[s];throw new Error("Process step with $id="+t+" does not exist")},this.reduceValidation=function(s,n){console.log("reduceValidation: "+s+" = "+n),e.bspValidatedForms[s]=n,e.stepIsValid=!0,angular.forEach(e.bspValidatedForms,function(t){e.stepIsValid=e.stepIsValid&&t}),console.log(e.bspValidatedForms),console.log("stepIsValid = "+e.stepIsValid),t.findProcessStep(e.$id).validated=e.stepIsValid,console.log(e.$parent.bspProcessSteps)}}],link:{pre:function(e,t,s){e.$parent.bspProcessSteps.push({$id:e.$id,validated:!1,title:s.title,element:t,enabled:!1}),e.bspValidatedForms={}},post:function(t,s,n,o){console.log(t),t.nextStep=function(s){var n;for(n=0;n<t.bspProcessSteps.length&&t.bspProcessSteps[n]!==t.$parent.activeStep;n++);e.when(s).then(function(e){console.log(e),n<t.$parent.bspProcessSteps.length-1&&(t.$parent.activeStep=t.$parent.bspProcessSteps[n+1],o[0].enableStepElements(),o[0].hideStepElements())},function(e){console.error(e)})}}}}}]),e.directive("form",["$timeout",function(e){return{restrict:"E",require:["^?bspProcessStep","form"],priority:1,scope:{},link:function(t,s,n,o){function l(){o[0].reduceValidation(t.$id,o[1].$valid)}console.log(t),console.log(o),o[0]&&(s.on("keyup mouseup",function(){e(l)}),e(l))}}}])}(),angular.module("bs-plus.select",["ngSanitize"]).directive("bspSelect",["$window","$compile",function(e,t){return{restrict:"E",transclude:!0,templateUrl:"select/bsp-select.tmpl.html",scope:{model:"=?ngModel",ngChange:"&"},controller:["$scope",function(e){var t=this;e.isWorking=!1,e.showDropdown=!1,e.optionElements=[],e.renderButtonLabels=function(){return t.renderButtonLabels(e.buttonLabels)},t.addCloseIcons=function(t){var s;for(s=0;s<t.length;s++)angular.isDefined(e.model[s])&&(t[s]+='<sup class="deselect btn btn-default" value="'+e.model[s]+'">&times;</sup>')},t.renderButtonLabels=function(s){return s.length>0?(s=angular.copy(s),t.deselectable&&t.addCloseIcons(s),s.join("<span class=sep></span>")):e.emptyLabel},t.addOptionElement=function(t){e.optionElements.push(t)},t.deselectAll=function(){angular.forEach(e.optionElements,function(e){e.removeClass("active")})},t.startWorking=function(){e.isWorking=!0},t.stopWorking=function(){e.ngChange(),e.isWorking=!1},t.selectOption=function(e){t.isMultiple?e.toggleClass("active"):(t.deselectAll(),e.addClass("active")),t.syncButton(!0)},t.syncButton=function(s){var n=[];e.buttonLabels=[],angular.forEach(e.optionElements,function(t){var s,o;t.hasClass("active")&&(s=t.find("acronym"),e.buttonLabels.push(s.length>0?s.html():t.html()),o=t.attr("value"),angular.isDefined(o)&&n.push(o))}),e.cssClasses=e.isDisabled?{disabled:"disabled"}:{},s&&(e.model=t.isMultiple?n:n.join())},t.syncModel=function(){t.isMultiple?(angular.forEach(e.optionElements,function(e){e.removeClass("active")}),angular.forEach(e.optionElements,function(t){e.model.indexOf(t.attr("value"))>=0&&t.addClass("active")})):angular.forEach(e.optionElements,function(t){t.removeClass("active"),t.attr("value")===e.model&&t.addClass("active")}),t.syncButton(!1)},t.closeDropdown=function(){e.showDropdown=!1},t.toggleDropdown=function(s){var n,o;"SUP"===s.target.tagName?(n=angular.element(s.target).attr("value"),console.log(n),angular.forEach(e.optionElements,function(t){t.attr("value")===n&&(t.removeClass("active"),o=e.model.indexOf(n),o>=0&&e.model.splice(o,1))}),t.syncButton(!0)):e.showDropdown=!e.isDisabled&&!e.showDropdown},e.toggleDropdown=function(e){e.stopPropagation(),t.toggleDropdown(e)},e.deselectAll=function(){t.deselectAll(),t.closeDropdown(),t.syncButton(!0)},e.filterOptions=function(){var t=angular.lowercase(e.searchString);t.length>0?angular.forEach(e.optionElements,function(e){var s=e.clone();s.find("abbr").remove(),angular.lowercase(s.text()).search(t)>=0?e.css("display","block"):e.css("display","none")}):angular.forEach(e.optionElements,function(e){e.css("display","block")})},e.resetFilter=function(){e.searchString="",e.filterOptions()}}],controllerAs:"self",link:function(s,n,o,l){function i(){var e;s.filterPlaceholder&&(e=t('<div class="filter"><input placeholder="{{ filterPlaceholder }}" type="text" ng-change="filterOptions()" ng-model="searchString"><button type="button" class="button reset" ng-click="resetFilter()">&times;</button></div>')(s),angular.forEach(n.find("div"),function(t){t.attributes.hasOwnProperty("ng-transclude")&&angular.element(t).prepend(e)}))}l.isMultiple=o.hasOwnProperty("multiple"),l.isRequired=o.hasOwnProperty("required"),l.deselectable=l.isMultiple&&o.hasOwnProperty("deselectable"),s.name=o.hasOwnProperty("name")?o.name:null,s.emptyLabel=o.hasOwnProperty("emptyLabel")?o.emptyLabel:"---",s.model=l.isMultiple?[]:"",s.isDisabled=o.hasOwnProperty("disabled"),s.selectNone=!o.hasOwnProperty("selNone")||l.isRequired&&!l.isMultiple?!1:o.selNone,s.filterPlaceholder=o.hasOwnProperty("filter")?o.filter:!1,i(),s.$watch("model",function(e,t){s.isWorking||angular.equals(e,t)||l.syncModel()}),l.syncButton(!0),angular.element(e).on("click",function(){l.closeDropdown(),s.$apply()})}}}]).directive("bspOptgroup",function(){return{require:["^bspSelect","bspOptgroup"],restrict:"E",scope:{},controller:["$scope",function(){this.optGroupElements=[],this.addOptionElement=function(e){this.optGroupElements.push(e),this.selectCtrl.addOptionElement(e)},this.selectOption=function(e){this.isSingle?(angular.forEach(this.optGroupElements,function(t){angular.equals(e,t)?t.toggleClass("active"):t.removeClass("active")}),this.selectCtrl.syncButton(!0)):this.selectCtrl.selectOption(e)},this.selectGroup=function(){if(this.isSelectable){var e=this.allActive=!this.allActive;angular.forEach(this.optGroupElements,function(t){e?t.addClass("active"):t.removeClass("active")}),this.selectCtrl.syncButton(!0)}}}],link:{pre:function(e,t,s,n){n[1].selectCtrl=n[0]},post:function(e,t,s,n){var o=n[1];o.isSingle=s.hasOwnProperty("single"),o.isSelectable=s.hasOwnProperty("selectable"),o.allActive=!1,o.isSelectable&&t.addClass("selectable"),t.on("click",function(t){var s=angular.element(t.target);o.selectCtrl.startWorking(),o.selectGroup(s),e.$apply(),o.selectCtrl.stopWorking()})}}}}).directive("bspOption",function(){return{require:["^bspSelect","?^bspOptgroup"],restrict:"E",scope:{},link:function(e,t,s,n){var o=n[0],l=angular.isDefined(n[1])?n[1]:n[0],i=s.hasOwnProperty("disabled");l.addOptionElement(t),s.hasOwnProperty("selected")&&t.addClass("active"),i&&t.addClass("disabled"),t.on("click",function(t){t.stopPropagation(),i||(o.startWorking(),l.selectOption(angular.element(this)),o.isMultiple||o.closeDropdown(),e.$apply(),o.stopWorking())})}}}),function(){}(e.angular)}(window,document);
//# sourceMappingURL=bootstrap-plus.min.js.map